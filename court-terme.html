<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>SYLLA ‚Äî Court Terme</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Rajdhani:wght@300;400;500;600;700&family=Outfit:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
:root{
  --red:#FF3B4E;--orange:#FF7A35;--amber:#FFB830;
  --teal:#00C9C0;--teal-l:#00EDDE;--teal-d:#008E89;
  --gold:#F5C842;
  --bg:#0A0808;--bg2:#130E0E;--bg3:#1A1010;
  --text:#FFF5F5;--text2:#C4847A;--text3:#7A4A45;
  --nav-h:70px;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden;padding-bottom:calc(var(--nav-h)+16px);}

/* BG */
.bg-mesh{position:fixed;inset:0;z-index:0;pointer-events:none;
  background:
    radial-gradient(ellipse 60% 50% at 85% 5%, rgba(255,59,78,.12) 0%,transparent 60%),
    radial-gradient(ellipse 50% 60% at 10% 80%, rgba(255,122,53,.10) 0%,transparent 55%),
    radial-gradient(ellipse 70% 70% at 50% 50%, rgba(255,59,78,.04) 0%,transparent 80%),
    linear-gradient(160deg,#0A0808 0%,#130E0E 50%,#100B0B 100%);}
.bg-grid{position:fixed;inset:0;z-index:0;pointer-events:none;
  background-image:linear-gradient(rgba(255,59,78,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(255,59,78,.04) 1px,transparent 1px);
  background-size:50px 50px;}

/* LOADING */
.loading-screen{position:fixed;inset:0;z-index:999;background:var(--bg);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;transition:opacity .5s,visibility .5s;}
.loading-screen.hide{opacity:0;visibility:hidden;pointer-events:none;}
.load-logo{font-family:'Bebas Neue',cursive;font-size:52px;letter-spacing:8px;background:linear-gradient(135deg,var(--red),var(--orange));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:pulse 1.5s ease-in-out infinite;}
.load-bar{width:120px;height:2px;background:rgba(255,59,78,.15);border-radius:2px;overflow:hidden;}
.load-fill{height:100%;background:linear-gradient(90deg,var(--red),var(--orange));border-radius:2px;animation:loadFill 1.5s ease-in-out infinite;}
@keyframes loadFill{0%{width:0%;margin-left:0;}50%{width:100%;margin-left:0;}100%{width:0%;margin-left:100%;}}
@keyframes pulse{0%,100%{opacity:1;}50%{opacity:.4;}}

/* PAGE */
.page{position:relative;z-index:2;padding:0 14px 20px;}

/* TOPBAR */
.topbar{display:flex;align-items:center;justify-content:space-between;padding:14px 14px 12px;position:sticky;top:0;z-index:50;background:rgba(10,8,8,.92);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,59,78,.12);margin:0 -14px 20px;}
.back-btn{display:flex;align-items:center;gap:8px;font-family:'Rajdhani',sans-serif;font-size:12px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--red);text-decoration:none;padding:8px 14px;border:1px solid rgba(255,59,78,.3);border-radius:20px;transition:all .2s;}
.back-btn:hover{background:rgba(255,59,78,.08);}
.page-title{font-family:'Bebas Neue',cursive;font-size:22px;letter-spacing:4px;background:linear-gradient(135deg,var(--red),var(--orange));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.balance-pill{display:flex;align-items:center;gap:6px;background:rgba(255,59,78,.08);border:1px solid rgba(255,59,78,.2);border-radius:20px;padding:7px 14px;font-family:'Rajdhani',sans-serif;font-size:11px;font-weight:700;letter-spacing:1.5px;color:var(--orange);}

/* HERO */
.hero-sec{text-align:center;padding:4px 0 24px;position:relative;}
.hero-tag{display:inline-flex;align-items:center;gap:8px;background:rgba(255,59,78,.1);border:1px solid rgba(255,59,78,.3);border-radius:100px;padding:7px 18px;font-family:'Rajdhani',sans-serif;font-size:11px;font-weight:700;letter-spacing:2.5px;text-transform:uppercase;color:var(--red);margin-bottom:14px;}
.blink{width:8px;height:8px;border-radius:50%;background:var(--red);box-shadow:0 0 12px var(--red);animation:bk 1s ease-in-out infinite;}
@keyframes bk{0%,100%{opacity:1;}50%{opacity:.2;}}
.hero-sec h1{font-family:'Bebas Neue',cursive;font-size:clamp(36px,10vw,64px);letter-spacing:4px;background:linear-gradient(135deg,#fff 0%,var(--orange) 50%,var(--red) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:.95;}
.hero-sec p{font-size:13px;font-weight:300;color:var(--text2);margin-top:10px;max-width:280px;margin-inline:auto;line-height:1.6;}

/* PLANS */
.plans-list{display:flex;flex-direction:column;gap:20px;}

/* PLAN CARD */
.plan-card{border-radius:24px;overflow:hidden;border:1.5px solid var(--pb);background:var(--bg2);transition:transform .25s,box-shadow .25s;animation:fadeUp .5s ease both;position:relative;}
.plan-card:nth-child(1){animation-delay:.05s;}
.plan-card:nth-child(2){animation-delay:.12s;}

/* ‚ïê‚ïê‚ïê SOON OVERLAY ‚ïê‚ïê‚ïê */
.soon-overlay{
  position:absolute;inset:0;z-index:10;
  background:linear-gradient(160deg,rgba(10,8,8,.82) 0%,rgba(10,8,8,.92) 100%);
  backdrop-filter:blur(3px);
  border-radius:22px;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:14px;
  padding:20px;
  text-align:center;
}
.soon-glow{
  width:72px;height:72px;border-radius:50%;
  background:linear-gradient(135deg,rgba(255,59,78,.15),rgba(255,122,53,.1));
  border:1.5px solid rgba(255,122,53,.35);
  display:flex;align-items:center;justify-content:center;
  font-size:32px;
  position:relative;
  animation:soonglow 2.5s ease-in-out infinite;
}
@keyframes soonglow{
  0%,100%{box-shadow:0 0 0 0 rgba(255,122,53,0);}
  50%{box-shadow:0 0 0 16px rgba(255,122,53,.12),0 0 32px rgba(255,59,78,.18);}
}
.soon-label{
  font-family:'Bebas Neue',cursive;
  font-size:28px;letter-spacing:5px;
  background:linear-gradient(135deg,#fff,var(--orange),var(--red));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.soon-sub{
  font-family:'Rajdhani',sans-serif;font-size:12px;font-weight:600;
  letter-spacing:2px;text-transform:uppercase;
  color:rgba(255,184,48,.65);
}
.soon-badge{
  display:inline-flex;align-items:center;gap:7px;
  background:rgba(255,184,48,.08);border:1px solid rgba(255,184,48,.25);
  border-radius:100px;padding:7px 18px;
  font-family:'Rajdhani',sans-serif;font-size:10px;font-weight:700;
  letter-spacing:2px;text-transform:uppercase;color:var(--amber);
}
.soon-dot{width:7px;height:7px;border-radius:50%;background:var(--amber);box-shadow:0 0 10px var(--amber);animation:bk 1s ease-in-out infinite;}
.soon-notify{
  padding:11px 24px;border-radius:14px;
  border:1.5px solid rgba(255,59,78,.3);
  background:rgba(255,59,78,.06);
  font-family:'Rajdhani',sans-serif;font-size:12px;font-weight:700;
  letter-spacing:2px;text-transform:uppercase;color:var(--red);
  cursor:default;
}

/* Image */
.plane-img-wrap{position:relative;height:200px;overflow:hidden;}
.plane-img-wrap::after{content:'';position:absolute;inset:0;background:linear-gradient(180deg,rgba(10,8,8,0) 20%,rgba(10,8,8,.65) 65%,var(--bg2) 100%);}
.plane-img{width:100%;height:100%;object-fit:cover;object-position:center 35%;}
.plane-overlay-badge{position:absolute;top:14px;left:14px;z-index:2;display:flex;gap:8px;align-items:center;}
.ob-plan{font-family:'Bebas Neue',cursive;font-size:13px;letter-spacing:3px;padding:5px 14px;border-radius:100px;color:#fff;}
.ob-speed{font-family:'Rajdhani',sans-serif;font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 12px;border-radius:100px;border:1px solid rgba(255,255,255,.3);color:rgba(255,255,255,.85);}

/* Plan body */
.plan-body{padding:0 18px 20px;}
.plan-name{font-family:'Bebas Neue',cursive;font-size:30px;letter-spacing:3px;line-height:1;margin-bottom:4px;margin-top:12px;}
.plan-sub{font-family:'Rajdhani',sans-serif;font-size:11px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--text3);margin-bottom:14px;}

/* Big numbers */
.plan-big-nums{display:grid;grid-template-columns:1fr 1px 1fr;background:rgba(0,0,0,.3);border-radius:18px;border:1px solid rgba(255,255,255,.06);overflow:hidden;margin-bottom:14px;}
.pbn-divider{background:rgba(255,255,255,.07);}
.pbn-item{padding:16px 12px;text-align:center;}
.pbn-val{font-family:'Bebas Neue',cursive;font-size:32px;letter-spacing:2px;line-height:1;}
.pbn-lbl{font-family:'Rajdhani',sans-serif;font-size:9px;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--text3);margin-top:4px;}

/* Duration chip */
.duration-chip{display:inline-flex;align-items:center;gap:8px;background:rgba(255,59,78,.12);border:1px solid rgba(255,59,78,.3);border-radius:100px;padding:8px 18px;font-family:'Rajdhani',sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--red);margin-bottom:14px;}
.dc-ico{font-size:14px;}

/* Profit box */
.profit-box{background:linear-gradient(135deg,rgba(245,200,66,.08),rgba(255,122,53,.05));border:1px solid rgba(245,200,66,.2);border-radius:14px;padding:12px 16px;margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;}
.pb-lbl{font-family:'Rajdhani',sans-serif;font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:rgba(245,200,66,.7);}
.pb-val{font-family:'Bebas Neue',cursive;font-size:24px;letter-spacing:2px;color:var(--gold);}

/* Invest btn (greyed out under overlay) */
.invest-btn{width:100%;padding:15px;border:none;border-radius:14px;font-family:'Rajdhani',sans-serif;font-size:13px;font-weight:700;letter-spacing:4px;text-transform:uppercase;cursor:pointer;position:relative;overflow:hidden;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:8px;opacity:.45;}

/* BOTTOM NAV */
.bot-nav{position:fixed;bottom:0;left:0;right:0;z-index:100;height:var(--nav-h);background:rgba(10,8,8,.94);backdrop-filter:blur(24px);border-top:1px solid rgba(255,59,78,.12);display:grid;grid-template-columns:repeat(4,1fr);box-shadow:0 -8px 32px rgba(0,0,0,.5);}
.nav-item{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;cursor:pointer;text-decoration:none;transition:all .2s;padding:8px 4px;position:relative;}
.nav-item::before{content:'';position:absolute;top:0;left:20%;right:20%;height:2px;border-radius:0 0 4px 4px;background:linear-gradient(90deg,var(--red),var(--orange));transform:scaleX(0);transition:transform .3s;}
.nav-item.active::before{transform:scaleX(1);}
.nav-item.active .nav-ico,.nav-item.active .nav-lbl{color:var(--red);}
.nav-ico{font-size:20px;color:#7A4A45;transition:color .2s;}
.nav-lbl{font-family:'Rajdhani',sans-serif;font-size:9px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:#7A4A45;transition:color .2s;}

@keyframes spin{to{transform:rotate(360deg);}}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
::-webkit-scrollbar{width:4px;}
::-webkit-scrollbar-thumb{background:rgba(255,59,78,.3);border-radius:4px;}
</style>
</head>
<body>

<div class="loading-screen" id="loader">
  <div class="load-logo">COURT TERME</div>
  <div class="load-bar"><div class="load-fill"></div></div>
</div>

<div class="bg-mesh"></div><div class="bg-grid"></div>

<div class="page">
  <div class="topbar">
    <a href="dashboard.html" class="back-btn">‚Üê Retour</a>
    <div class="page-title">COURT TERME</div>
    <div class="balance-pill">üí∞ <span id="bal-display">‚Ä¶</span> F</div>
  </div>

  <div class="hero-sec">
    <div class="hero-tag"><div class="blink"></div>Gains Express ¬∑ 48H</div>
    <h1>VITESSE<br>MAXIMALE</h1>
    <p>Investissez et r√©cup√©rez vos gains en seulement 48 heures. Rapide, puissant, rentable.</p>
  </div>

  <div class="plans-list" id="plans-container"></div>
</div>

<nav class="bot-nav">
  <a href="dashboard.html" class="nav-item"><span class="nav-ico">üè†</span><span class="nav-lbl">Accueil</span></a>
  <a href="plan.html" class="nav-item"><span class="nav-ico">üöÄ</span><span class="nav-lbl">Plans</span></a>
  <a href="retrait.html" class="nav-item"><span class="nav-ico">üí∏</span><span class="nav-lbl">Retrait</span></a>
  <a href="profil.html" class="nav-item"><span class="nav-ico">üë§</span><span class="nav-lbl">Profil</span></a>
</nav>

<script>
const{createClient}=supabase;
const sb=createClient('https://fqiotqrraobmsrcyewsi.supabase.co','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxaW90cXJyYW9ibXNyY3lld3NpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4MjA3NzUsImV4cCI6MjA4NzM5Njc3NX0.pmvaQikEDEj705o7kBBWwkLwAoZ62D-GoxjFm5HEHNc');

const PLANS_CT=[
  {
    id:'ct1',name:'SPRINT FALCON',
    plane:'Dassault Falcon 8X',
    planeDesc:'Jet priv√© ultra-rapide ¬∑ Style & Performance',
    img:'https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=900&q=85',
    cost:5000,gain:8000,
    color:'#FF7A35',shadow:'rgba(255,122,53,.25)',border:'rgba(255,122,53,.35)',
    gradFrom:'#FF3B4E',gradTo:'#FF7A35',
    badgeBg:'linear-gradient(135deg,#CC1C2E,#FF3B4E)',
    tier:'EXPRESS ‚ö°',
  },
  {
    id:'ct2',name:'TURBO GULFSTREAM',
    plane:'Gulfstream G700',
    planeDesc:'Le jet le plus luxueux du monde ¬∑ Rendement maximal',
    img:'https://images.unsplash.com/photo-1474302770737-173ee21bab63?w=900&q=85',
    cost:25000,gain:30000,
    color:'#FFB830',shadow:'rgba(255,184,48,.25)',border:'rgba(255,184,48,.35)',
    gradFrom:'#FF7A35',gradTo:'#FFB830',
    badgeBg:'linear-gradient(135deg,#CC5A10,#FF7A35)',
    tier:'PRESTIGE üî•',
  },
];

let currentUser=null,userBalance=0;

async function init(){
  const{data:{session}}=await sb.auth.getSession();
  if(!session){window.location.href='index.html';return;}
  currentUser=session.user;
  await loadBalance();
  renderPlans();
  document.getElementById('loader').classList.add('hide');
}

async function loadBalance(){
  try{
    const{data,error}=await sb.rpc('get_solde',{p_user_id:currentUser.id});
    userBalance=error?0:Math.max(0,Number(data)||0);
  }catch(e){userBalance=0;}
  document.getElementById('bal-display').textContent=fmt(userBalance);
}

function renderPlans(){
  const container=document.getElementById('plans-container');
  container.innerHTML=PLANS_CT.map(p=>{
    const profit=p.gain-p.cost;
    const roiPct=Math.round((profit/p.cost)*100);
    return `
    <div class="plan-card" style="--pb:${p.border};--ps:${p.shadow};">

      <!-- ‚ïê‚ïê SOON OVERLAY ‚ïê‚ïê -->
      <div class="soon-overlay">
        <div class="soon-glow">üõ´</div>
        <div class="soon-label">BIENT√îT<br>DISPONIBLE</div>
        <div class="soon-sub">${p.name} ¬∑ ${p.plane}</div>
        <div class="soon-badge"><div class="soon-dot"></div>En cours de d√©ploiement</div>
        <div class="soon-notify">üîî Vous serez notifi√©</div>
      </div>

      <!-- Card content (visible under overlay) -->
      <div class="plane-img-wrap">
        <img class="plane-img" src="${p.img}" alt="${p.plane}" loading="lazy"
          onerror="this.src='https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=800&q=80'">
        <div class="plane-overlay-badge">
          <div class="ob-plan" style="background:${p.badgeBg}">${p.tier}</div>
          <div class="ob-speed">${p.plane}</div>
        </div>
      </div>
      <div class="plan-body">
        <div class="plan-name" style="color:${p.color}">${p.name}</div>
        <div class="plan-sub">‚úàÔ∏è ${p.plane} ¬∑ ${p.planeDesc}</div>
        <div class="plan-big-nums">
          <div class="pbn-item"><div class="pbn-val" style="color:${p.color}">${fmt(p.cost)}</div><div class="pbn-lbl">Mise (F)</div></div>
          <div class="pbn-divider"></div>
          <div class="pbn-item"><div class="pbn-val" style="color:var(--gold)">${fmt(p.gain)}</div><div class="pbn-lbl">Retrait (F)</div></div>
        </div>
        <div class="duration-chip"><span class="dc-ico">‚ö°</span>48 HEURES SEULEMENT</div>
        <div class="profit-box">
          <div class="pb-lbl">Profit net (+${roiPct}% ROI)</div>
          <div class="pb-val">+${fmt(profit)} FCFA</div>
        </div>
        <button class="invest-btn" style="background:linear-gradient(135deg,${p.gradFrom},${p.gradTo});box-shadow:0 8px 28px ${p.shadow};" disabled>
          ‚ö° Investir ${fmt(p.cost)} FCFA
        </button>
      </div>
    </div>`;
  }).join('');
}

function fmt(n){return Number(n).toLocaleString('fr-FR');}
init();
</script>
</body>
</html>
